# Node Package Manager ä»‹ç»

> åŸæ–‡ï¼š[`developer.ibm.com/zh/tutorials/learn-nodejs-node-package-manager/`](https://developer.ibm.com/zh/tutorials/learn-nodejs-node-package-manager/)

åŒ…ç®¡ç†æ˜¯ä½¿ç”¨ Node.js è¿›è¡Œç¼–ç¨‹çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ã€‚Node Package Manager (npmï¼ŒNode åŒ…ç®¡ç†å™¨) ä¸ä»…ä»…æ˜¯ä¸€ä¸ªç¨‹åºï¼Œè¿˜æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç”Ÿæ€ç³»ç»Ÿã€‚åœ¨ Node.js å­¦ä¹ è·¯å¾„çš„ç¬¬ä¸ƒéƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬æ¥è®¤è¯† npm åŠå…¶æ‰€æœ‰ç»„ä»¶ï¼š

##### Node.js å­¦ä¹ è·¯å¾„

æœ¬æ•™ç¨‹æ˜¯ Node.js å­¦ä¹ è·¯å¾„çš„ä¸€éƒ¨åˆ†ã€‚å„å•å…ƒä¹‹é—´ç›¸è¾…ç›¸æˆï¼Œé€šè¿‡æŸ¥çœ‹ Node.js å­¦ä¹ è·¯å¾„æ¦‚è¿°ï¼Œå¯ä»å¤´å¼€å§‹å­¦ä¹ ã€‚

*   è½¯ä»¶åŒ…çš„ npm æ³¨å†Œè¡¨ã€‚
*   ç”¨äºç®¡ç†è¿™äº›åŒ…çš„ `npm` å‘½ä»¤è¡Œç•Œé¢ (CLI) ç¨‹åºã€‚
*   npm ç½‘ç«™ï¼Œå¯ç”¨äºè·å–å¸®åŠ©å¹¶å‚ä¸å…¶ä¸­ã€‚

å¿«é€Ÿè¯´æ˜ï¼šåœ¨è°ˆè®º npm ç”Ÿæ€ç³»ç»Ÿæ—¶ï¼Œæˆ‘ä¼šå°†å…¶ç§°ä¸º npmã€‚åœ¨ä¸“é—¨æåŠ npm CLI æ—¶ï¼Œæˆ‘å°†ä½¿ç”¨ `npm`ã€‚

## è·å–ä»£ç 

æˆ‘çš„ GitHub å­˜å‚¨åº“ä¸­æä¾›äº†è·Ÿéšæ­¤å­¦ä¹ è·¯å¾„ä¸­çš„ç¤ºä¾‹è¿›è¡Œæ“ä½œæ‰€éœ€çš„ä»£ç ã€‚

[è·å–ä»£ç ](https://github.com/jstevenperry/IBM-Developer/tree/master/Node.js/Course)

## npm æ³¨å†Œè¡¨

åœ¨ç¬¬ 3 å•å…ƒä¸­ï¼Œæ‚¨äº†è§£åˆ° [npm æ³¨å†Œè¡¨](https://docs.npmjs.com/misc/registry)åŒ…å«æ•°åä¸‡ä¸ªå¼€æº Node åŒ…ï¼Œè¿™äº›åŒ…ç”±å¤§å‹äº’åŠ¨å¼€å‘è€…ç¤¾åŒºæä¾›æ”¯æŒã€‚

åœ¨ç¬¬ 4 å•å…ƒå’Œç¬¬ 5 å•å…ƒä¸­ï¼Œæ‚¨å¯èƒ½ä¼šä» npm æ³¨å†Œè¡¨ç»å¸¸å‡ºç°çš„æƒ…å†µæ¨æ–­å‡ºï¼Œè¯¥æ³¨å†Œè¡¨ä½œä¸º*ç‰¹å®š*ä½ç½®ï¼Œç”¨äºå¯»æ‰¾è¦åœ¨ Node åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨çš„æ¨¡å—ã€‚

åœ¨çŸ¥é“åŒ…åçš„æƒ…å†µä¸‹æ‰¾åˆ°å¹¶å®‰è£…è¯¥åŒ…ï¼Œè¿™æ˜¯ä¸€ç§æƒ…å†µï¼Œè€Œåœ¨å¦ä¸€ç§æƒ…å†µä¸‹ï¼Œå‡è®¾æ‚¨æ­£åœ¨å¯»æ‰¾*ä¸€ç§è½¯ä»¶*ï¼Œè€Œä¸æ˜¯ç‰¹å®šçš„åŒ…ã€‚æ‚¨å°†å¦‚ä½•åœ¨æ³¨å†Œè¡¨ä¸­æ‰¾åˆ°æ‰€éœ€å†…å®¹ï¼Ÿ

ä¾‹å¦‚ï¼Œå‡è®¾æ‚¨åœ¨æŸ¥æ‰¾ JavaScript [linter](https://stackoverflow.com/questions/8503559/what-is-linting)ã€‚è¦åœ¨ `npm` æ³¨å†Œè¡¨ä¸­ä¼—å¤šçš„ `linter` ä¸­æŸ¥æ‰¾æŸä¸€é¡¹ï¼Œè½¬åˆ° [npm ç½‘ç«™](https://www.npmjs.com)ã€‚åœ¨é¡µé¢é¡¶éƒ¨çš„æœç´¢å­—æ®µä¸­è¾“å…¥â€œlinterâ€ï¼Œæ‚¨å°†çœ‹åˆ°ä»¥ä¸‹ç»“æœï¼š

å›¾ 1\. åœ¨ npmjs.com ä¸­æœç´¢ `linter`

![åœ¨ npmjs.com ä¸­æœç´¢ `linter`ã€‚](img/3c63c0de292718c229b342d56b84d298.png)

é€‰é¡¹å¤ªå¤šï¼è¿™é‡Œæœ‰è¶…è¿‡ 3000 ä¸ªä¸å…³é”®å­—â€œlinterâ€åŒ¹é…çš„åŒ…ï¼Œæ‚¨å°†å¦‚ä½•å†³å®šè¦ä½¿ç”¨å“ªä¸€ä¸ªï¼Ÿ

é¦–å…ˆï¼Œæ‚¨å¯ä»¥ç¼©å°ä¸€ä¸‹æœç´¢èŒƒå›´ã€‚ä»[ç¬¬ 3 å•å…ƒ](https://developer.ibm.com/tutorials/learn-nodejs-tour-node/)å¾—çŸ¥ï¼ŒJavaScript æ˜¯ä¸€ä¸ª ECMAScript å®ç°ï¼Œå› æ­¤è®©æˆ‘ä»¬æ¥çœ‹çœ‹åœ¨å‘æœç´¢è¯ä¸­æ·»åŠ  `ecmascript` åä¼šå‘ç”Ÿä»€ä¹ˆã€‚

å›¾ 2\. åœ¨ npmjs.com ä¸­æœç´¢ `ecmascript linter`

![åœ¨ npmjs.com ä¸­æœç´¢ `ecmascript linter` ä»¥ç¼©å°æœç´¢èŒƒå›´ã€‚](img/c5a93d2535703722e88b8856b004dee8.png)

è¿™æ ·æ˜¾ç„¶æ›´å¥½ã€‚ç­›é€‰ 50 ä¸ªåŒ…æ¯” 3000 ä¸ªåŒ…æ›´å®¹æ˜“ã€‚ä½†æ˜¯ï¼Œè¿›ä¸€æ­¥ç¼©å°æœç´¢èŒƒå›´ä¼šä¸ä¼šæœ‰æ‰€å¸®åŠ©ï¼Ÿ

### åŒ…è¯„åˆ†

npmjs.com çš„æœç´¢åŠŸèƒ½ï¼ˆç”± [npms.io](https://npms.io/) æä¾›ï¼‰æä¾›äº†ä¸‰ä¸ªæœ‰ç”¨çš„å…³é”®æŒ‡æ ‡ï¼š

*   æµè¡Œåº¦
*   è´¨é‡
*   ç»´æŠ¤

npm æ³¨å†Œè¡¨ä¸­çš„æ¯ä¸ªåŒ…éƒ½å—åˆ¶äº[è®¡ç®—è¿™äº›åˆ†æ•°çš„ç®—æ³•](https://github.com/npms-io/npms-analyzer/blob/master/docs/architecture.md)ã€‚è¿™äº›æŒ‡æ ‡å¤§ä½“ä¸Šæ„å‘³ç€æ‚¨å¯¹å®ƒä»¬çš„è®¤è¯†ï¼Œä½†å¦‚æœæƒ³è¦è·å–æ›´è¯¦ç»†çš„è§£é‡Šï¼Œå¯æŸ¥çœ‹ npms.io ä¸Šçš„ [About é¡µé¢](https://npms.io/about) ã€‚

åˆ†æ•°ä»¥æ¡å½¢å›¾æ ¼å¼æ˜¾ç¤ºåœ¨æ¯ä¸ªæ¡ç›®çš„å³ä¸Šè§’ï¼Œ`p` è¡¨ç¤ºæµè¡Œåº¦ï¼Œ`q` è¡¨ç¤ºè´¨é‡ï¼Œ`m` è¡¨ç¤ºç»´æŠ¤ã€‚å°†é¼ æ ‡æ‚¬åœåœ¨æ¯ä¸ªé“¾æ¥ä¸Šï¼Œå°±ä¼šå¼¹å‡ºç›¸å…³çš„æ•°å­—åˆ†æ•°ã€‚ï¼ˆæˆ‘æ­£åœ¨ä½¿ç”¨ Chromeï¼›æ‚¨çœ‹åˆ°çš„æƒ…å†µå¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚ï¼‰

æ‚¨ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ npms.io ä¸Šæœç´¢åŒ…ï¼ŒåŒæ ·æœç´¢ `ecmascript linter` äº§ç”Ÿäº† 53 æ¡ç»“æœï¼š

å›¾ 3\. åœ¨ npms.io ä¸­æœç´¢ `ecmascript linter`

![åœ¨ npms.io ä¸­æœç´¢ ecmascript linter](img/efd56e6f8937533c1aa43cbdb0968ae5.png)

åœ¨è¯¥ç¤ºä¾‹ä¸­ï¼Œå‡è®¾æ‚¨é€‰æ‹©åœ¨è´¨é‡ã€æµè¡Œåº¦å’Œç»´æŠ¤æ–¹é¢å¹³å‡å€¼æœ€é«˜çš„åŒ…ï¼Œæœ€ç»ˆå°±å¾—åˆ°äº† [eslint](https://github.com/eslint/eslint)ï¼Œåˆ†æ•°åˆ†åˆ«ä¸º 97ã€85 å’Œ 100ï¼Œå¹³å‡åˆ†ä¸º 94ã€‚

## npm CLI

åœ¨é€‰æ‹©åŒ…åï¼Œå°±éœ€è¦è¿›è¡Œå®‰è£…ï¼Œè¿™ä¼šå°†æˆ‘ä»¬å¸¦åˆ° `npm` å‘½ä»¤è¡Œç•Œé¢ (CLI)ã€‚

è¯¥ CLI æ˜¯ä¸€ä¸ªç¨‹åºï¼Œå……å½“ Node ç¨‹åºçš„åŒ…ç®¡ç†å™¨ã€‚Node éšé™„è¯¥ CLIã€‚

### æ‚¨æ‰€çŸ¥é“çš„ npm

æ‚¨å·²ç»åœ¨æœ¬è¯¾ç¨‹ä¸­å¤šæ¬¡ä½¿ç”¨äº† `npm`ã€‚åœ¨ç¬¬ 4 å•å…ƒä¸­ï¼Œæ‚¨ä½¿ç”¨ `npm` å®‰è£…äº†ç±»ä¼¼ `nodemon` è¿™æ ·çš„åŒ…ï¼š

```
npm install -g nodemon 
```

æ‚¨è¿˜ä½¿ç”¨ `npm` è¿è¡Œäº† `server.js`ï¼ˆé€šè¿‡ `npm start`ï¼‰ï¼Œè¿è¡Œäº†åŠŸèƒ½æµ‹è¯•ï¼ˆé€šè¿‡ `npm test`ï¼‰ï¼Œç”šè‡³è¿˜ä» `package.json` è¿è¡Œäº†è‡ªå®šä¹‰è„šæœ¬ï¼ˆé€šè¿‡ `npm run load-test` å’Œ `npm run start-dev`ï¼‰ã€‚

ç°åœ¨ï¼Œæˆ‘ä»¬å°†æ›´ä»”ç»†åœ°çœ‹ä¸€ä¸‹ `npm` çš„åŠŸèƒ½åŠå…¶ç”¨é€”ã€‚

## ä½¿ç”¨ npm å®‰è£…æœ¬åœ°åŒ…

åœ¨ç¬¬ 6 å•å…ƒä¸­ï¼Œæ‚¨ä½¿ç”¨ `npm` å®‰è£…äº† sqlite3 æ¨¡å—ï¼Œè¯¥æ¨¡å—åœ¨è´­ç‰©æ¸…å•åº”ç”¨ç¨‹åºçš„ `package.json` æ–‡ä»¶ä¸­è¢«æŒ‡å®šä¸ºä¾èµ–é¡¹ï¼š

### æ¸…å• 1\. /Node.js/Course/Unit-6/package.json

```
{
  "name": "shopping-list",
  "version": "1.0.0",
  "description": "Shopping List",
 .
 .
 .
  "homepage": "https://github.com/jstevenperry/IBM-Code#readme",
  "dependencies": {
    "sqlite3": "â´.0.1"
  }
} 
```

å½“ `npm` æ²¡æœ‰å‚æ•°æ—¶ï¼Œå®ƒä¼šå®‰è£… `package.json` å†… `dependencies` å¯¹è±¡ä¸­åˆ—å‡ºçš„æ‰€æœ‰æ¨¡å—ã€‚ ï¼ˆæ‚¨å°†åœ¨ç¬¬ 8 å•å…ƒä¸­äº†è§£æœ‰å…³ `package.json` çš„æ›´å¤šä¿¡æ¯ã€‚ï¼‰

### å®‰è£…ä¸€ç»„æ–°åŒ…

æˆ‘ä»¬å°† `npm install` ä¸ä¸åŒäºç¬¬ 6 å•å…ƒä¸­æ‰€ç”¨çš„ `package.json` ä¸€èµ·ä½¿ç”¨ã€‚è¿™å°†å®‰è£…ä¸€ç»„æ–°åŒ…å’Œä¾èµ–é¡¹ã€‚

é¦–å…ˆï¼Œå¯¼èˆªåˆ°æˆ‘çš„ [GitHub ä»£ç åº“](https://github.com/jstevenperry/IBM-Developer/tree/master/Node.js/Course/)ä¸­çš„ Node.js/Course/Unit-7 ç›®å½•ï¼Œåœ¨æ­¤ä¼šçœ‹åˆ°ä»¥ä¸‹ `package.json`ã€‚é¡»æ³¨æ„ï¼Œè¯¥æ–‡ä»¶åŒ…å«ç”¨äºè¿è¡Œ `eslint` JavaScript linter çš„ `pretest` è„šæœ¬ã€‚

#### æ¸…å• 2\. å¸¦æœ‰ eslint ä¾èµ–é¡¹çš„ package.json

```
{
  "name": "Unit-7",
  "version": "1.0.0",
  "description": "Sample code for Unit 7",
  "main": "logger.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
    "pretest": "eslint --ignore-path ../../.gitignore ."
  },
  "keywords": [],
  "author": "J Steven Perry",
  "license": "Apache-2.0",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/jstevenperry/IBM-Code"
  },
  "devDependencies": {
    "babel-eslint": "â¸.2.5",
    "eslint": "âµ.1.0",
    "eslint-config-strongloop": "Â².1.0"
  }
} 
```

å¦‚æœè¿è¡Œ `npm install`ï¼Œè¾“å‡ºå°†ç±»ä¼¼å¦‚ä¸‹ï¼š

```
$ npm install
added 164 packages from 190 contributors and audited 333 packages in 3.368s
found 0 vulnerabilities

$ 
```

### è·å–æœ‰å…³å·²å®‰è£…è½¯ä»¶çš„ä¿¡æ¯

è¦æŸ¥çœ‹æ‰€å®‰è£…çš„ `eslint` çš„ç‰ˆæœ¬ï¼Œå¯è¿è¡Œ `npm list eslint` å‘½ä»¤ï¼š

```
$ npm list eslint
Unit-7@1.0.0 /Users/sperry/home/development/projects/IBM-Code/Node.js/Course/Unit-7
Â©Â¸Â©Â¤Â©Â¤ eslint@5.1.0

$ 
```

è¦æŸ¥çœ‹ node_modules ä¸­çš„*å®Œæ•´ä¾èµ–é¡¹æ ‘*ï¼Œå¯åœ¨ä¸æŒ‡å®šä»»ä½•æ¨¡å—çš„æƒ…å†µä¸‹è¿è¡Œ `npm list`ã€‚è¾“å‡ºçœ‹èµ·æ¥ç±»ä¼¼å¦‚ä¸‹ï¼ˆç”±äºéå¸¸å†—é•¿ï¼Œæ­¤å¤„å·²æœ‰æ‰€çœç•¥ï¼‰ï¼š

```
$ npm list
Unit-7@1.0.0 /Users/sperry/home/development/projects/IBM-Code/Node.js/Course/Unit-7
â”œâ”€â”¬ babel-eslint@8.2.5
â”‚ â”œâ”€â”¬ @babel/code-frame@7.0.0-beta.44
â”‚ â”‚ â””â”€â”¬ @babel/highlight@7.0.0-beta.44
â”‚ â”‚   â”œâ”€â”€ chalk@2.4.1 deduped
â”‚ â”‚   â”œâ”€â”€ esutils@2.0.2 deduped
â”‚ â”‚   â””â”€â”€ js-tokens@3.0.2 deduped
.
.
â”‚ â”‚ â””â”€â”€ estraverse@4.2.0
â”‚ â””â”€â”€ eslint-visitor-keys@1.0.0
â”œâ”€â”¬ eslint@5.1.0
â”‚ â”œâ”€â”¬ ajv@6.5.2
â”‚ â”‚ â”œâ”€â”€ fast-deep-equal@2.0.1
â”‚ â”‚ â”œâ”€â”€ fast-json-stable-stringify@2.0.0
â”‚ â”‚ â”œâ”€â”€ json-schema-traverse@0.4.1
â”‚ â”‚ â””â”€â”¬ uri-js@4.2.2
â”‚ â”‚   â””â”€â”€ punycode@2.1.1
â”‚ â”œâ”€â”¬ babel-code-frame@6.26.0
.
.
â”‚ â”‚ â”œâ”€â”€ lodash@4.17.10 deduped
â”‚ â”‚ â”œâ”€â”¬ slice-ansi@1.0.0
â”‚ â”‚ â”‚ â””â”€â”€ is-fullwidth-code-point@2.0.0 deduped
â”‚ â”‚ â””â”€â”€ string-width@2.1.1 deduped
â”‚ â””â”€â”€ text-table@0.2.0
â””â”€â”€ eslint-config-strongloop@2.1.0
$ 
```

åœ¨å®‰è£… `eslint` åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨é’ˆå¯¹ `logger.js` çš„ [strongloop](https://strongloop.com/strongblog/loopback-updates-open-source-contributor-documentation/) ç¼–ç æ ·å¼æŸ¥æ˜æ‰€ç”Ÿæˆçš„é”™è¯¯æ¶ˆæ¯ç±»å‹ã€‚

è¦è¿è¡Œ `eslint`ï¼Œå¯è¿è¡Œä¸Šè¿°æ¸…å• 2 ä¸­çš„ `pretest` è„šæœ¬ï¼Œè¿™æ¬¡ä½¿ç”¨ `npm run pretest` å‘½ä»¤ï¼š

```
$ npm run pretest

> Unit-7@1.0.0 pretest /Users/sperry/home/development/projects/IBM-Code/Node.js/Course/Unit-7
> eslint --ignore-path ../../.gitignore .

/Users/sperry/home/development/projects/IBM-Code/Node.js/Course/Unit-7/logger.js
  91:10  error  'setMessageOnlyOutput' is defined but never used  no-unused-vars
  92:3   error  'messageOnlyOutput' is not defined                no-undef

âœ– 2 problems (2 errors, 0 warnings)

npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! Unit-7@1.0.0 pretest: `eslint --ignore-path ../../.gitignore .`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the Unit-7@1.0.0 pretest script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /Users/sperry/.npm/_logs/2018-07-11T21_13_15_041Z-debug.log
$ 
```

ç¬¬ä¸€æ¬¡è¿è¡Œæ—¶ï¼Œlinter å‘ç°å¤šä¸ªé—®é¢˜çš„æƒ…å†µå¹¶ä¸å°‘è§ã€‚æˆ‘å®é™…ä¸Šæ¸…ç†äº† `logger.js` æ¥æ•è·ä¸Šé¢çš„è¾“å‡ºã€‚

æ­¤å¤–ï¼Œæ‚¨è¿˜å¯ä»¥é…ç½® [strongloop config](https://github.com/strongloop/eslint-config-strongloop) å’Œ [eslint è§„åˆ™](https://eslint.org/docs/rules/)ã€‚æ‚¨å¯ä»¥åœ¨ Unit-7 æºä»£ç çš„ `.eslintrc.json` æ–‡ä»¶ä¸­çœ‹åˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘åœ¨æ­¤è¦†ç›–äº† `max-len` è§„åˆ™ï¼ˆ80 ä¸ªå­—ç¬¦å¯¹æˆ‘æ¥è¯´ä¼¼ä¹å¾ˆä¿å®ˆï¼‰ã€‚

## ä½¿ç”¨ npm å®‰è£…å…¨å±€åŒ…

å°±åƒæœ¬åœ°åŒ…ä¸€æ ·ï¼Œæ‚¨å·²ç»æœ‰äº†ä¸€äº›å…³äºå…¨å±€åŒ…çš„å®è·µã€‚åœ¨ç¬¬ 4 å•å…ƒä¸­ï¼Œæ‚¨å®‰è£…äº†å…¨å±€åŒ… `nodemon`ã€‚æ­£å¦‚æˆ‘åœ¨é‚£é‡Œæåˆ°çš„ï¼Œå…¨å±€å®‰è£…ä¼šå°†åŒ…æ·»åŠ åˆ° PATHï¼Œå› æ­¤æ‚¨å¯ä»¥ä»è®¡ç®—æœºä¸Šçš„ä»»ä½•ä½ç½®è¿è¡Œè¯¥åŒ…ï¼Œè¿™å¯¹äºåƒ `nodemon` è¿™æ ·çš„ CLI åŒ…ç‰¹åˆ«æœ‰ç”¨ã€‚

ç”¨äºå®‰è£…å…¨å±€åŒ…çš„å‘½ä»¤æ˜¯ `npm install -g PACKAGE_NAME`ï¼Œå…¶ä¸­ `PACKAGE_NAME` æ˜¯åŒ…çš„åç§°ï¼Œå¦‚ `nodemon`ã€‚

### æœ¬åœ°å®‰è£…ä¸å…¨å±€å®‰è£…

npm çš„å¼€å‘è€…å¯¹äº[ä½•æ—¶å…¨å±€å®‰è£…åŒ…ä»¥åŠä½•æ—¶ä¸å…¨å±€å®‰è£…åŒ…æœ‰ä¸€ä¸ªç»éªŒæ³•åˆ™](https://docs.npmjs.com/getting-started/installing-npm-packages-globally)ï¼š

*   å¦‚æœåŒ…æ˜¯æ‚¨éœ€è¦ä»è®¡ç®—æœºä¸Šçš„ä»»ä½•ä½ç½®è¿è¡Œçš„å‘½ä»¤è¡Œå·¥å…·ï¼Œé‚£ä¹ˆå…¨å±€å®‰è£…è¯¥åŒ…ã€‚
*   å¦‚æœåŒ…æ˜¯åº”ç”¨ç¨‹åºä¾èµ–é¡¹ï¼Œé‚£ä¹ˆ[æœ¬åœ°å®‰è£…è¯¥åŒ…](https://docs.npmjs.com/getting-started/installing-npm-packages-locally)ã€‚

## npm å®ç”¨ç¨‹åº

`npm` ä¸ä»…ä»…å¯ç”¨äºå®ç°ç®€å•å®‰è£…ã€‚ æˆ‘æœ€å–œæ¬¢çš„ä¸¤ä¸ªç”¨äº `npm` CLI çš„å®ç”¨ç¨‹åºæ˜¯ `npm prune` å’Œ `npm doctor`ã€‚

### npm prune

å¦‚æœæ‚¨åƒæˆ‘ä¸€æ ·ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­è¿›è¡Œå®éªŒï¼Œåœ¨è½å®æœ€ç»ˆè§£å†³æ–¹æ¡ˆä¹‹å‰å°è¯•å¤šä¸ªé€‰é¡¹ï¼Œé‚£ä¹ˆä¸å¹¸çš„æ˜¯ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´*æ— å…³çš„ä¾èµ–é¡¹*ï¼Œè¿™äº›æ˜¯æ‚¨ä¸ä¼šä½¿ç”¨çš„å®‰è£…åŒ…ã€‚

ä¾‹å¦‚ï¼Œå‡è®¾æ‚¨è¦å°è¯• `fluid-eslint`ï¼Œå› è€Œå®‰è£…æ­¤é¡¹ï¼š

```
$ npm install fluid-eslint
+ fluid-eslint@2.10.2
added 72 packages from 91 contributors and audited 795 packages in 4.877s
found 0 vulnerabilities
$ npm list fluid-eslint
Unit-7@1.0.0 /Users/sperry/home/development/projects/IBM-Code/Node.js/Course/Unit-7
â””â”€â”€ fluid-eslint@2.10.2
$ 
```

åœ¨æŸä¸€æ—¶åˆ»ï¼Œæ‚¨å†³å®šä¸å†ä½¿ç”¨ `fluid-eslint`ã€‚å°†å…¶ä» `package.json` ä¸­åˆ é™¤ï¼Œä½†ä» `package.json` ä¸­åˆ é™¤åŒ…å¹¶ä¸ä¼šæ›´æ”¹ node_modules çš„å†…å®¹ã€‚`fluid-eslint` åŠå…¶ä¾èµ–é¡¹ä»ä½äº node_modules ä¸­ã€‚

æœªåœ¨ `package.json` ä¸­åˆ—ä¸ºä¾èµ–é¡¹å¹¶ä¸”ä¸æ˜¯å¦ä¸€ä¸ªåŒ…ä¾èµ–é¡¹çš„å·²å®‰è£…é¡¶çº§åŒ…ä¼šè¢«è§†ä¸ºæ— å…³çš„åŒ…ã€‚æ‚¨éœ€è¦ä¸€ç§å¯åˆ é™¤æ— å…³ä¾èµ–é¡¹çš„æ–¹æ³•ï¼Œæ­¤æ—¶ `npm prune` å³å¯æ´¾ä¸Šç”¨åœºã€‚

#### åˆ é™¤æ— å…³ä¾èµ–é¡¹

è¦è¯†åˆ«æ— å…³åŒ…ï¼Œå¯è¿è¡Œ `npm list`ã€‚æ‰€æœ‰æ— å…³çš„åŒ…éƒ½å°†åˆ—åœ¨ä¾èµ–é¡¹æ ‘çš„åº•éƒ¨ï¼Œå¹¶é™„å¸¦ä¸€æ¡é”™è¯¯æ¶ˆæ¯ï¼š

```
$ npm list
Unit-7@1.0.0 /Users/sperry/home/development/projects/IBM-Code/Node.js/Course/Unit-7
â”œâ”€â”¬ babel-eslint@8.2.5
â”‚ â”œâ”€â”¬ @babel/code-frame@7.0.0-beta.44
â”‚ â”‚ â””â”€â”¬ @babel/highlight@7.0.0-beta.44
â”‚ â”‚   â”œâ”€â”€ chalk@2.4.1 deduped
â”‚ â”‚   â”œâ”€â”€ esutils@2.0.2 deduped
â”‚ â”‚   â””â”€â”€ js-tokens@3.0.2 deduped
â”‚ â”œâ”€â”¬ @babel/traverse@7.0.0-beta.44
.
.
â”‚ â”‚ â”œâ”€â”¬ slice-ansi@1.0.0
â”‚ â”‚ â”‚ â””â”€â”€ is-fullwidth-code-point@2.0.0 deduped
â”‚ â”‚ â””â”€â”€ string-width@2.1.1 deduped
â”‚ â””â”€â”€ text-table@0.2.0
â”œâ”€â”€ eslint-config-strongloop@2.1.0
â””â”€â”€ fluid-eslint@2.10.2 extraneous

npm ERR! extraneous: fluid-eslint@2.10.2 /Users/sperry/home/development/projects/IBM-Code/Node.js/Course/Unit-7/node_modules/fluid-eslint
$ 
```

é¡»æ³¨æ„ï¼Œ`fluid-eslint` è¢«åˆ—ä¸º `extraneous`ã€‚

ç°åœ¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ `npm prune` CLI å®ç”¨ç¨‹åºä» node_modules ä¸­åˆ é™¤ `fluid-eslint` åŠå…¶ä¾èµ–é¡¹ï¼š

```
$ npm prune
removed 72 packages and audited 333 packages in 1.59s
found 0 vulnerabilities

$ 
```

å¦‚æœæ‚¨ä½¿ç”¨ `npm list fluid-eslint` è¿è¡Œ `npm install`ï¼Œé‚£ä¹ˆå°†ä¼šçœ‹åˆ°æ‰€æœ‰ç—•è¿¹éƒ½å·²æ¶ˆå¤±ï¼š

```
$ npm install
audited 333 packages in 1.434s
found 0 vulnerabilities

Ix:~/home/development/projects/IBM-Code/Node.js/Course/Unit-7 sperry$ npm list fluid-eslint
Unit-7@1.0.0 /Users/sperry/home/development/projects/IBM-Code/Node.js/Course/Unit-7
â””â”€â”€ (empty)
$ 
```

### npm doctor

`npm doctor` æ˜¯ä¸€ä¸ªæ–¹ä¾¿çš„å®ç”¨å·¥å…·ï¼Œå¯ç¡®ä¿æ‚¨çš„ npm ç¯å¢ƒæ­£å¸¸è¿è¡Œã€‚ å…¶è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š

```
$ npm doctor
Check                               Value                        Recommendation
npm ping                            OK
npm -v                              v6.1.0
node -v                             v10.6.0
npm config get registry             https://registry.npmjs.org/
which git                           /usr/local/bin/git
Perms check on cached files         ok
Perms check on global node_modules  ok
Perms check on local node_modules   ok
Verify cache contents               verified 5660 tarballs
$ 
```

å®ƒä¼šè¿è¡Œè®¸å¤šæ£€æŸ¥ï¼ŒåŒ…æ‹¬é€šè¿‡ `npm ping` ç¡®ä¿æ‚¨çš„è®¡ç®—æœºå¯ä»¥è¿æ¥åˆ° npm æ³¨å†Œè¡¨ï¼ˆä½äº registry.npmjs.orgï¼‰ï¼Œè¿è¡Œ `node` å’Œ `npm` çš„ç‰ˆæœ¬æ£€æŸ¥ä»¥åŠ `git` ç¨‹åºçš„è·¯å¾„ç­‰ç­‰ã€‚

æœ‰å…³ `npm doctor` çš„æ›´å¤šä¿¡æ¯ï¼Œå¯æŸ¥çœ‹å…¶[æ–‡æ¡£é¡µé¢](https://docs.npmjs.com/cli/doctor)ã€‚

##### æœ‰å…³ npm çš„æ›´å¤šä¿¡æ¯

`npm` çš„å®Œæ•´æŒ‡å—è¶…å‡ºäº†æœ¬è¯¾ç¨‹çš„èŒƒå›´ï¼Œå°¤å…¶æ˜¯å› ä¸ºè¿™äº›ä¿¡æ¯å·²ç»å­˜åœ¨äº [npm æ–‡æ¡£](https://docs.npmjs.com)ä¸­ã€‚å¦‚æœæ‚¨è¦äº†è§£æ›´å¤šä¿¡æ¯ï¼Œé‚£ä¹ˆåŠ¡å¿…æŸ¥çœ‹ npm æ–‡æ¡£ã€‚åœ¨æœ¬è¯¾ç¨‹çš„å…¶ä½™éƒ¨åˆ†ä¸­ï¼Œæ‚¨å°†ä¼šä½¿ç”¨ `npm`ï¼Œæ‰€ä»¥æˆ‘é¼“åŠ±æ‚¨ç†Ÿæ‚‰è¿™æ–¹é¢çš„å†…å®¹ã€‚

## `npm` çš„å¤‡é€‰é¡¹

è™½ç„¶ `npm` æ˜¯æœ€æ—©çš„ Node.js åŒ…ç®¡ç†å™¨ï¼ˆå¯ä»¥è¿½æº¯åˆ° 2010 å¹´ 1 æœˆå‘è¡Œçš„ [V0.0.1](https://github.com/npm/npm/releases/tag/v0.0.1)ï¼‰ï¼Œä½†å®ƒä¸æ˜¯å”¯ä¸€çš„åŒ…ç®¡ç†å™¨ã€‚åœ¨æœ¬éƒ¨åˆ†ä¸­ï¼Œæˆ‘å°†å±•ç¤ºä¸€äº›æ‚¨åº”è¯¥äº†è§£çš„å†…å®¹ï¼Œå…ˆä»ä»¥ä¸‹å¯èƒ½æœ€å—æ¬¢è¿çš„ `npm` æ›¿æ¢é¡¹å¼€å§‹ï¼šYarnã€‚

### Yarn

[Yarn](https://yarnpkg.com/) æ˜¯ç”¨äº Node çš„åŒ…ç®¡ç†å™¨ï¼Œä¸ `npm` CLI ä¸€æ ·ä½¿ç”¨ä¸€ä¸ª npm æ³¨å†Œè¡¨ã€‚å®ƒ[ç”± Facebook å¼€å‘](https://code.fb.com/web/yarn-a-new-package-manager-for-javascript/)ï¼Œå¹¶äº 2016 å¹´ 10 æœˆå‘å¸ƒã€‚

Yarn åœ¨ npm ä¸Šæä¾›äº†è®¸å¤šæ”¹è¿›ï¼ŒåŒ…æ‹¬ï¼š

##### Yarn ä½¿ç”¨ä¸€ä¸ª npm æ³¨å†Œè¡¨ï¼Ÿ

æˆ‘è®¤ä¸º Yarn ä½¿ç”¨*ä¸€ä¸ª* npm æ³¨å†Œè¡¨ï¼Œæ˜¯å› ä¸ºåœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œ[`registry.yarnpkg.com`](https://registry.yarnpkg.com) å®é™…ä¸Šæ˜¯ [registry.npmjs.org çš„åå‘ä»£ç†](https://github.com/yarnpkg/yarn/issues/889)ï¼Œè¿™å¤šåŠå‡ºäºæ€§èƒ½åŸå› ã€‚è™½ç„¶å­˜åœ¨ä¸€ä¸ªå»ºè®®å¼ƒç”¨ registry.yarnpkg.com çš„ [yarnpkg GitHub é—®é¢˜](https://github.com/yarnpkg/yarn/issues/5891)ï¼Œä½†ä½¿ç”¨ä¸­çš„æ³¨å†Œè¡¨å¯¹å¤§å¤šæ•° Node å¼€å‘è€…è€Œè¨€éƒ½åº”è¯¥æ˜¯ä¸å¯è§çš„ã€‚

*   **è„±æœºè®¿é—®**ï¼šYarn å…è®¸æ‚¨è®¿é—®å·²ä¸‹è½½çš„åŒ…ï¼Œè€Œ `npm` CLI éœ€è¦ Internet è®¿é—®æƒé™æ‰èƒ½è¿è¡Œ `npm install`ï¼ˆé™¤éæ‚¨ä½¿ç”¨ [`npm pack`](https://docs.npmjs.com/cli/packï¼‰æˆ–ç±»ä¼¼ [`offline-npm`](https://www.npmjs.com/package/offline-npm) çš„é™„åŠ ç»„ä»¶ï¼‰ã€‚

*   **è®¸å¯æ£€æŸ¥**ï¼šYarn ä¸ºä¾èµ–é¡¹æä¾›å†…ç½®è®¸å¯æ£€æŸ¥ï¼Œè€Œ `npm` éœ€è¦ç±»ä¼¼ [`license-checker`](https://www.npmjs.com/package/license-checker) çš„é™„åŠ ç»„ä»¶ã€‚

#### å®‰è£… Yarn

æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä» npm æ³¨å†Œè¡¨å°† Yarn å®‰è£…ä¸ºå…¨å±€åŒ…ï¼š`npm install -g yarn`ã€‚Yarn å°±åƒ `npm` ä¸€æ ·ä½¿ç”¨ `package.json`ã€‚è¦å®‰è£…åŒ…ï¼Œåªéœ€ä½¿ç”¨ `yarn install` è€Œä¸æ˜¯ `npm install`ã€‚

```
cd IBM-Code/Node.js/Course/Unit-7
rm -Rf node_modules
yarn install 
```

æ‚¨åº”è¯¥ä¼šçœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹çš„è¾“å‡ºï¼š

```
Ix:~/src/projects sperry$ cd IBM-Code/Node.js/Course/Unit-7/
Ix:~/src/projects/IBM-Code/Node.js/Course/Unit-7 sperry$ rm -Rf node_modules/
Ix:~/src/projects/IBM-Code/Node.js/Course/Unit-7 sperry$ yarn install
yarn install v1.7.0
[1/4] ğŸ”  Resolving packages...
[2/4] ğŸšš  Fetching packages...
[3/4] ğŸ”—  Linking dependencies...
[4/4] ğŸ“ƒ  Building fresh packages...
âœ¨  Done in 2.32s.
Ix:~/src/projects/IBM-Code/Node.js/Course/Unit-7 sperry$ 
```

ç„¶åï¼Œæ‚¨å¯ä»¥è¿è¡Œ `yarn pretest`ï¼Œå°±åƒè¿è¡Œ `npm run pretest` ä¸€æ ·ï¼ˆYarn ä¼šåˆ¤å®š `pretest` æ˜¯ä¸€ä¸ªè„šæœ¬ï¼Œæ‚¨å› è€Œå¯è·³è¿‡ `run` å­å‘½ä»¤ï¼‰ï¼š

```
Ix:~/src/projects/IBM-Code/Node.js/Course/Unit-7 sperry$ yarn pretest
yarn run v1.7.0
$ eslint --ignore-path ../../.gitignore .

/Users/sperry/home/development/projects/IBM-Code/Node.js/Course/Unit-7/logger.js
  91:10  error  'setMessageOnlyOutput' is defined but never used  no-unused-vars
  92:3   error  'messageOnlyOutput' is not defined                no-undef

âœ– 2 problems (2 errors, 0 warnings)

error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command. 
```

é¡»æ³¨æ„ï¼Œæ‚¨ä» `eslint` è·å¾—çš„è¾“å‡ºä¸ä» `npm` è·å¾—çš„è¾“å‡ºç›¸åŒã€‚

#### Yarn å¯ä¸ºæ‚¨è§£å¼€è°œå›¢

ä¸ npm ä¸€æ ·ï¼ŒYarn æä¾›äº†è®¸å¤šéå¸¸æ–¹ä¾¿çš„å®ç”¨ç¨‹åºã€‚ `why` æ˜¯æˆ‘æœ€å–œæ¬¢çš„å®ç”¨ç¨‹åºä¹‹ä¸€ã€‚

åœ¨ä»”ç»†æŸ¥çœ‹ package.json æˆ– node_modules ç›®å½•æ—¶ï¼Œæ‚¨å¯èƒ½æƒ³çŸ¥é“ä¸ºä½•è¦ä½¿ç”¨ç»™å®šåŒ…ã€‚åœ¨ Yarn ä¸­ï¼Œæ‚¨ä¸å¿…ç–‘æƒ‘ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æ‚¨åœ¨ node_modules ä¸­çœ‹åˆ°ä¸€ä¸ªåä¸º `acorn` çš„åŒ…ï¼š

```
Ix:~/src/projects/IBM-Code/Node.js/Course/Unit-7/node_modules sperry$ yarn why acorn
yarn why v1.7.0
[1/4] ğŸ¤”  Why do we have the module "acorn"...?
[2/4] ğŸšš  Initialising dependency graph...
[3/4] ğŸ”  Finding dependency...
[4/4] ğŸš¡  Calculating file sizes...
=> Found "acorn@5.7.1"
info Reasons this module exists
   - "eslint#espree" depends on it
   - Hoisted from "eslint#espree#acorn"
   - Hoisted from "eslint#espree#acorn-jsx#acorn"
info Disk size without dependencies: "68MB"
info Disk size with unique dependencies: "68MB"
info Disk size with transitive dependencies: "68MB"
info Number of shared dependencies: 0
âœ¨  Done in 0.19s. 
```

çœ‹èµ·æ¥ `acorn-jsx` éœ€è¦ `acorn` åŒ…ï¼Œè¯¥åŒ…ç”± `espree` ä½¿ç”¨ï¼Œè€Œ `espree` åˆ™ç”± `eslint` ä½¿ç”¨ã€‚

å®Œæ•´çš„ä¾èµ–è·¯å¾„å°±æ˜¯ä»¥ä¸‹è¡Œä¸­çš„ `eslint` > `espree` > `acorn-jsx` > `acorn`ï¼š

```
 - Hoisted from "eslint#espree#acorn-jsx#acorn" 
```

å®ƒç”šè‡³ä¼šå‘Šè¯‰æ‚¨å ç”¨äº†å¤šå°‘ç£ç›˜ç©ºé—´ï¼Œç®€ç›´å¤ªé…·äº†ï¼

### æ›´å¤šé€‚ç”¨äº Node çš„åŒ…ç®¡ç†å™¨

Node ç”Ÿæ€ç³»ç»ŸåŒ…å«å…¶ä»–åŒ…ç®¡ç†å™¨ï¼Œä½†å¤§å¤šæ•°éƒ½ä¸æ˜¯ `npm` çš„åµŒå…¥å¼æ›¿æ¢é¡¹ï¼Œè€Œæ˜¯æä¾›åœ¨ `npm` ä¹‹å¤–è¿è¡Œçš„æŸäº›åŠŸèƒ½ã€‚

*   [Webpack](https://webpack.github.io)ï¼šä¸€ä¸ªæ¨¡å—æ†ç»‘ç¨‹åºï¼Œä¸»è¦ç”¨äºæµè§ˆå™¨ã€‚
*   [Bower](https://bower.io/)ï¼š`npm` çš„å‡†åµŒå…¥å¼æ›¿æ¢é¡¹ï¼Œä¸»è¦ç”¨äºæµè§ˆå™¨ã€‚ï¼ˆå¯å‚é˜…ï¼š[How to migrate away from Bower](https://bower.io/blog/2017/how-to-migrate-away-from-bower/)ï¼‰ã€‚
*   [RequireJS](https://requirejs.org/docs/node.html)ï¼šä¸»è¦æ˜¯ Node æ¨¡å—çš„ `require()` æ›¿æ¢é¡¹ã€‚
*   [pnpm](https://github.com/pnpm)ï¼š`npm` çš„å®Œå…¨åµŒå…¥å¼æ›¿æ¢é¡¹ï¼ˆå¦‚ Yarnï¼‰ã€‚

## npm ç½‘ç«™

åœ¨éœ€è¦æœ‰å…³ Node çš„å¸®åŠ©æˆ–å…¶ä»–ä¿¡æ¯æ—¶ï¼Œå¯ä½¿ç”¨ [npm ç½‘ç«™](https://www.npmjs.com)ã€‚æ‚¨å¯ä»¥é€šè¿‡å®ƒæ¥è®¿é—® Node æ–‡æ¡£ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå¼€å‘è€…å‚ä¸å…¶ä¸­çš„ Node.js é¡¹ç›®ã€‚

### è·å–å¸®åŠ©

npm ç½‘ç«™æä¾›ï¼š

*   å¹¿æ³›çš„ [Node.js æ–‡æ¡£](https://docs.npmjs.com/)ã€‚
*   [æ”¯æŒé¡µé¢](https://www.npmjs.com/support)ï¼Œå…¶ä¸­åŒ…å«æŒ‡å‘ [Twitter](https://twitter.com/npm_support) å’Œ [GitHub](https://github.com/npm/npm/issues) ä¸Šå„ç§ç‰ˆå—çš„é“¾æ¥ã€‚
*   [æ³¨å†Œè¡¨](https://status.npmjs.org/)ã€[ç½‘ç«™](https://github.com/npm/www/issues) å’Œ [CLI](https://github.com/npm/npm/issues) çš„çŠ¶æ€é¡µé¢ã€‚

### å‚ä¸å…¶ä¸­

å‡è®¾æ‚¨åˆ›å»ºäº†ä¸€ä¸ªå¾ˆæ£’çš„åŒ…ï¼Œå¸Œæœ›é€šè¿‡ npm æ³¨å†Œè¡¨ä¸å…¨ä¸–ç•Œåˆ†äº«ã€‚ç°åœ¨è¯¥åšä»€ä¹ˆå‘¢ï¼Ÿ

è¦åœ¨ registry.npmjs.org ä¸­å‘å¸ƒ npm åŒ…ï¼Œå°±éœ€è¦[è®¾ç½®ä¸€ä¸ªå¸æˆ·](https://www.npmjs.com/signup)ã€‚

åœ¨éªŒè¯äº†æ‚¨çš„ç”µå­é‚®ä»¶åœ°å€åï¼Œå°±å¯ä»¥åœ¨ npm æ³¨å†Œè¡¨ä¸­å…±äº«æ‚¨çš„æ–°åŒ…ã€‚æ‚¨éœ€è¦éµå¾ªç‰¹å®šçš„[æ ‡å‡†å’Œç¨‹åº](https://docs.npmjs.com/getting-started/publishing-npm-packages)ã€‚

ç™»å½•åï¼Œé¦–é¡µä¼šæœ‰ä¸€äº›æœ‰è¶£çš„æŒ‡æ ‡ï¼š

å›¾ 4\. npm é¦–é¡µ

![ç™»å½•å¸æˆ·åçœ‹åˆ°çš„ npm é¦–é¡µã€‚](img/7ca81f2f7f557c614ad06fcf0d45df87.png)

åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œé¦–é¡µåˆ—å‡ºäº†è¶…è¿‡ 80 ä¸‡ä¸ªç”¨äº Node çš„åŒ…ï¼

## ç»“æŸè¯­

åœ¨æœ¬å•å…ƒä¸­ï¼Œæ‚¨äº†è§£åˆ° npm æ¶‰åŠä¸‰ä¸ªæ–¹é¢ï¼š

*   Node çš„è½¯ä»¶åŒ…æ³¨å†Œè¡¨ã€‚
*   ç”¨äºç®¡ç†è½¯ä»¶ä¸­ Node åŒ…çš„å‘½ä»¤è¡Œç•Œé¢ï¼ˆCLIï¼‰ç¨‹åºï¼ˆ`npm`ï¼‰ã€‚
*   å¯è·å–å¸®åŠ©å¹¶å‚ä¸é¡¹ç›®çš„ç½‘ç«™ã€‚

å¯æŸ¥çœ‹å‚è€ƒèµ„æºï¼Œäº†è§£æœ‰å…³ npm ç”Ÿæ€ç³»ç»Ÿã€`npm` CLI å’Œ [npm ç½‘ç«™](https://www.npmjs.com)çš„æ›´å¤šä¿¡æ¯ã€‚

è¯¥å­¦ä¹ è·¯å¾„å°†ç»§ç»­è¿›å…¥ç¬¬ 8 å•å…ƒï¼Œæ‚¨å°†æ·±å…¥äº†è§£å¦‚ä½•ç®¡ç† Node ä¸­çš„ä¾èµ–é¡¹ã€‚

## æµ‹è¯•æ‚¨çš„ç†è§£æƒ…å†µ

### åˆ¤æ–­é¢˜

1.  `npm` æ˜¯ç”¨æ¥ä¸ npm æ³¨å†Œè¡¨äº¤äº’çš„æœ€æ—©çš„ CLIã€‚

2.  `npm` çš„åµŒå…¥å¼æ›¿æ¢é¡¹è¡¨ç¤ºæ‚¨åªèƒ½å°†å®ƒç”¨äº `require()` å’Œç‰¹å®šçš„ `npm` å‡½æ•°ã€‚

3.  é™¤éåœ¨ `package.json` çš„ `dependencies` éƒ¨åˆ†ä¸­æŒ‡å®šï¼Œå¦åˆ™æ— æ³•å®‰è£…æœ¬åœ°åŒ…ã€‚

æ ¸å¯¹ç­”æ¡ˆ

### é€‰æ‹©æœ€ä½³ç­”æ¡ˆ

1.  ä»¥ä¸‹å“ªä¸€é¡¹æ˜¯ `npm` çš„åµŒå…¥å¼æ›¿æ¢é¡¹ï¼Ÿ

    A. Zeke

    B. tower

    C. flake

    D. Yarn

    E. ä»¥ä¸Šçš†æ˜¯

2.  ä»¥ä¸‹å“ªä¸€ä¸ªç»„åˆå‘½ä»¤å°†ä¼šæ˜¾ç¤º `PACKAGE_NAME` çš„å½“å‰å®‰è£…ç‰ˆæœ¬ï¼ˆå‡è®¾åœ¨ `package.json` ä¸­æŒ‡å®šäº† `MODULE_NAME`ï¼‰ï¼Ÿ

    A. `npm install && npm --curver MODULE_NAME`

    B. `npm install && npm list MODULE_NAME`

    C. `yarn install && yarn list MODULE_NAME`

    D. `npm install && npm MODULE_NAME --version`

    E. A å’Œ D

    F. B å’Œ C

    G. ä»¥ä¸Šéƒ½ä¸æ˜¯

æ ¸å¯¹ç­”æ¡ˆ

### å¡«ç©º

1.  npm ç”Ÿæ€ç³»ç»ŸåŒ…å«ä¸‰ä¸ªç»„ä»¶ï¼šnpm *********_*********ã€`npm` ********__********å’Œ npm *********_*********ã€‚

2.  æä¾›ä½¿ç”¨ `npm` å…¨å±€å®‰è£… Yarn æ—¶ç”¨åˆ°çš„å‘½ä»¤ï¼š`npm` **********_**********ã€‚

3.  è¦ä» Node åº”ç”¨ç¨‹åºçš„ node*modules ç›®å½•ä¸­åˆ é™¤æ— å…³çš„åŒ…ï¼Œå¯ä½¿ç”¨ `npm` *****__****** å‘½ä»¤ã€‚

æ ¸å¯¹ç­”æ¡ˆ

## æ ¸å¯¹ç­”æ¡ˆ

### åˆ¤æ–­é¢˜çš„ç­”æ¡ˆ

1.  ç­”æ¡ˆï¼š**å¯¹**ï¼šè™½ç„¶è¿˜æœ‰å…¶ä»– CLI å®¢æˆ·ç«¯ï¼Œä½† `npm` æ˜¯åœ¨ 2010 å¹´ 1 æœˆå‘å¸ƒçš„ã€‚

2.  ç­”æ¡ˆï¼š**é”™**ï¼š`npm` çš„åµŒå…¥å¼æ›¿æ¢é¡¹æ˜¯ä¸€ä¸ªåŠŸèƒ½ç±»ä¼¼äº `npm` CLI çš„ç¨‹åºã€‚ä¾‹å¦‚ï¼Œä»£æ›¿ä½¿ç”¨ `npm install -g nodemon`ï¼Œæ‚¨å¯ä»¥é€šè¿‡ `yarn global add nodemon` æ¥å…¨å±€å®‰è£… `nodemon`ã€‚

3.  ç­”æ¡ˆï¼š**é”™**ï¼šè™½ç„¶ä¸æ¨èï¼Œä½†æ‚¨å¯ä»¥åœ¨æ²¡æœ‰ `package.json` æ–‡ä»¶çš„æƒ…å†µä¸‹å®‰è£…æœ¬åœ°ä¾èµ–é¡¹ã€‚å¯ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š`npm install PACKAGE_NAME`ï¼Œå…¶ä¸­ PACKAGE_NAME æ˜¯è¦å®‰è£…çš„åŒ…çš„åç§°ã€‚

### é€‰æ‹©é¢˜çš„ç­”æ¡ˆ

1.  ç­”æ¡ˆï¼š**Yarn** æ˜¯æ‰€åˆ—åç§°ä¸­å”¯ä¸€çš„ `npm` åµŒå…¥å¼æ›¿æ¢é¡¹ã€‚

2.  ç­”æ¡ˆï¼š**F. B å’Œ C**ï¼šä¸€æ—¦é€šè¿‡ `npm` æˆ– Yarn å®‰è£…äº†åŒ…ï¼Œ`list` å­å‘½ä»¤å°±é€‚ç”¨äºä»»ä½•ä¸€ä¸ª CLIã€‚é¡»æ³¨æ„ï¼Œä¸åº”è¿›è¡Œæ··æ­ï¼›æ¢å¥è¯è¯´ï¼Œä¸è¦ä½¿ç”¨ä¸€ç§å·¥å…·è¿›è¡Œå®‰è£…ï¼Œè€Œä½¿ç”¨å¦ä¸€ç§å·¥å…·æ‰§è¡Œ `list`ã€‚

### å¡«ç©ºé¢˜çš„ç­”æ¡ˆ

1.  ç­”æ¡ˆï¼šregistryã€CLIã€ç½‘ç«™

2.  ç­”æ¡ˆï¼š**install -g yarn (or i -g yarn)**ï¼Œå®Œæ•´å‘½ä»¤ï¼š`npm install -g yarn`

3.  ç­”æ¡ˆï¼š**prune**

## `npm` å¤‡ç”¨é¡¹

*   [Yarn](https://yarnpkg.com/)ï¼š`npm` çš„åµŒå…¥å¼æ›¿æ¢é¡¹ã€‚
*   [pnpm](https://github.com/pnpm)ï¼š`npm` çš„å¦ä¸€ä¸ªåµŒå…¥å¼æ›¿æ¢é¡¹ã€‚
*   [Webpack](https://webpack.github.io)ï¼šä¸€ä¸ªæ¨¡å—æ†ç»‘ç¨‹åºï¼Œä¸»è¦ç”¨äºæµè§ˆå™¨ã€‚
*   [Bower](https://bower.io/)ï¼š`npm` çš„å‡†åµŒå…¥å¼æ›¿æ¢é¡¹ã€‚
*   [RequireJS](https://requirejs.org/docs/node.html)ï¼šä¸»è¦æ˜¯ Node æ¨¡å—çš„ `require()` æ›¿æ¢é¡¹ã€‚

æœ¬æ–‡ç¿»è¯‘è‡ªï¼š[Introduction to node package manager](https://developer.ibm.com/tutorials/learn-nodejs-node-package-manager/)ï¼ˆ2018-12-31ï¼‰